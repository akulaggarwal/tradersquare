#!/usr/bin/env node

// const db = require('../db/config');
const axios = require('axios');
// const apireq = require('../server/request_handler/api_req');

console.log('scheduler task initiated');

// let apiCall = axios.get('http://localhost:3000/updateDB/FB')
let apiCall = axios.get('https://tradersquare1.herokuapp.com/updateDB/FB')
//   .then( () => {
//     console.log('success?');
//   })
//   .catch(console.error);

//find "calculations" api call

// console.log('hey', apiCall);
// console.log('after displaying api data');
//
// apireq('financials', ticker)
// .then((data)=>{
//   console.log("*****", data);
//   const results = {}
//   if(typeof data === "object"){
//     for(let key in data){
//       results[key] = {
//         percentile: null,
//         value: data[key]
//       }
//     }
//     res.send(results)
//   }
//   else{
//     res.send(data)
//   }
// })

// db.query(`INSERT INTO dummy.cron (var, numnum) VALUES ('bye', 20);`)
//   .on('end', function() {
//     console.log('db table should be updated, run command: SELECT * FROM productionschema.realdata;');
//   })
//   .catch(console.error)


//Update table val: UPDATE dummy.cron   SET numnum      =      99        WHERE var = 'foot';
//                       schema.table       col to change=new val             col  =  old val;
